{"code":"import { GraphQLInputObjectType } from 'graphql';\r\nimport { InputObjectTypeError, inputObjectTypeRegistry } from '../index';\r\nimport { compileAllInputFields, inputFieldsRegistry, } from '~/domains/inputField';\r\nimport { createCachedThunk, getClassWithAllParentClasses, } from '~/services/utils';\r\nconst compileOutputTypeCache = new WeakMap();\r\nfunction createTypeInputFieldsGetter(target) {\r\n    const targetWithParents = getClassWithAllParentClasses(target);\r\n    const hasFields = targetWithParents.some(ancestor => {\r\n        return !inputFieldsRegistry.isEmpty(ancestor);\r\n    });\r\n    if (!hasFields) {\r\n        throw new InputObjectTypeError(target, `There are no fields inside this type.`);\r\n    }\r\n    return createCachedThunk(() => {\r\n        return compileAllInputFields(target);\r\n    });\r\n}\r\nexport function compileInputObjectTypeWithConfig(target, config) {\r\n    if (compileOutputTypeCache.has(target)) {\r\n        return compileOutputTypeCache.get(target);\r\n    }\r\n    const compiled = new GraphQLInputObjectType(Object.assign({}, config, { fields: createTypeInputFieldsGetter(target) }));\r\n    compileOutputTypeCache.set(target, compiled);\r\n    return compiled;\r\n}\r\nexport function compileInputObjectType(target) {\r\n    if (!inputObjectTypeRegistry.has(target)) {\r\n        throw new InputObjectTypeError(target, `Class is not registered. Make sure it's decorated with @InputObjectType decorator`);\r\n    }\r\n    const compiler = inputObjectTypeRegistry.get(target);\r\n    return compiler();\r\n}\r\n//# sourceMappingURL=objectType.js.map","map":"{\"version\":3,\"file\":\"objectType.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/domains/inputObjectType/compiler/objectType.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,sBAAsB,EAA8B,MAAM,SAAS,CAAC;AAC7E,OAAO,EAAE,oBAAoB,EAAE,uBAAuB,EAAE,MAAM,UAAU,CAAC;AAEzE,OAAO,EACL,qBAAqB,EACrB,mBAAmB,GACpB,MAAM,sBAAsB,CAAC;AAC9B,OAAO,EACL,iBAAiB,EACjB,4BAA4B,GAC7B,MAAM,kBAAkB,CAAC;AAE1B,MAAM,sBAAsB,GAAG,IAAI,OAAO,EAAoC,CAAC;AAO/E,SAAS,2BAA2B,CAClC,MAAgB;IAEhB,MAAM,iBAAiB,GAAG,4BAA4B,CAAC,MAAM,CAAC,CAAC;IAC/D,MAAM,SAAS,GAAG,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;QAClD,OAAO,CAAC,mBAAmB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,SAAS,EAAE;QACd,MAAM,IAAI,oBAAoB,CAC5B,MAAM,EACN,uCAAuC,CACxC,CAAC;KACH;IAED,OAAO,iBAAiB,CAAC,GAAG,EAAE;QAC5B,OAAO,qBAAqB,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,UAAU,gCAAgC,CAC9C,MAAgB,EAChB,MAAmB;IAEnB,IAAI,sBAAsB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;QACtC,OAAO,sBAAsB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;KAC3C;IAED,MAAM,QAAQ,GAAG,IAAI,sBAAsB,mBACtC,MAAM,IACT,MAAM,EAAE,2BAA2B,CAAC,MAAM,CAAC,IAC3C,CAAC;IAEH,sBAAsB,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC7C,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,MAAM,UAAU,sBAAsB,CAAC,MAAgB;IACrD,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;QACxC,MAAM,IAAI,oBAAoB,CAC5B,MAAM,EACN,mFAAmF,CACpF,CAAC;KACH;IAED,MAAM,QAAQ,GAAG,uBAAuB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAErD,OAAO,QAAQ,EAAE,CAAC;AACpB,CAAC\"}","dts":{"name":"/Users/adampietrasiak/dev/oss/typegql/domains/inputObjectType/compiler/objectType.d.ts","writeByteOrderMark":false,"text":"import { GraphQLInputObjectType } from 'graphql';\r\nexport interface TypeOptions {\r\n    name: string;\r\n    description?: string;\r\n}\r\nexport declare function compileInputObjectTypeWithConfig(target: Function, config: TypeOptions): GraphQLInputObjectType;\r\nexport declare function compileInputObjectType(target: Function): GraphQLInputObjectType;\r\n"}}
